@using Project_Unite.Models;
@using Microsoft.AspNet.Identity;
@using Project_Unite.Controllers;

@{
    ViewBag.Title = "Administration Control Panel";
    var db = new ApplicationDbContext();

    string homeclass = (ViewBag.Page == "home") ? "active" : "";
    string siteconfigclass = (ViewBag.Page == "siteconfig") ? "active" : "";
    string usersclass = (ViewBag.Page == "users") ? "active" : "";
    string rolesclass = (ViewBag.Page == "roles") ? "active" : "";
    string forumsclass = (ViewBag.Page == "forums") ? "active" : "";
    string skinsclass = (ViewBag.Page == "skins") ? "active" : "";
    string groupsclass = (ViewBag.Page == "groups") ? "active" : "";
    string backupsclass = (ViewBag.Page == "backups") ? "active" : "";
    string logsclass = (ViewBag.Page == "logs") ? "active" : "";
    var db = new ApplicationDbContext();
    var users = db.Users;
    var roles = new List<Project_Unite.Models.Role>();
    foreach(var role in db.Roles.ToArray())
    {
        roles.Add(role as Role);
    }

}

<div class="panel row">
    <div class="panel-body">
        <div class="col-xs-4">
            <h4>Navigation</h4>

            <ul class="nav nav-stacked nav-pills" id="tabs" data-tabs="tabs" role="tablist">
                <li class="@homeclass"><a data-toggle="tab" href="#a_index">Home</a></li>
                <li class="@siteconfigclass"><a data-toggle="tab" href="#a_site_config">Site Config</a></li>
                <li class="@usersclass"><a data-toggle="tab" href="#a_users">Users</a></li>
                <li class="@rolesclass"><a data-toggle="tab" href="#a_roles">Roles</a></li>
                <li class="@forumsclass"><a data-toggle="tab" href="#a_forums">Forums</a></li>
                <li class="@skinsclass"><a data-toggle="tab" href="#a_skins">Skins</a></li>
                <li class="@groupsclass"><a data-toggle="tab" href="#a_groups">Groups</a></li>
                <li class="@backupsclass"><a data-toggle="tab" href="#a_backups">Backups</a></li>
                <li class="@logsclass"><a data-toggle="tab" href="#a_logs">Audit Logs</a></li>



            </ul>
        </div>
        <div class="col-xs-8">
            <div class="tab-content">
                <div class="tab-pane fade in @homeclass" id="a_index">
                    <h3>Not yet implemented.</h3>

                    <p>Please suggest features to add on this page.</p>
                </div>
                <div class="tab-pane fade in @siteconfigclass" id="a_site_config">
                    <h3>Not yet implemented.</h3>

                    <p>We need to add this in.</p>
                </div>
                <div class="tab-pane fade in @usersclass" id="a_users">
                    @Html.Partial("~/Views/Moderator/Users.cshtml", users)
                </div>
                <div class="tab-pane fade in @rolesclass" id="a_roles">
                    @Html.Partial("~/Views/Admin/Roles.cshtml", roles)
                </div>
           </div>
        </div>
    </div>
</div>